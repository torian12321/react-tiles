(this["webpackJsonpreact-tiles"]=this["webpackJsonpreact-tiles"]||[]).push([[0],{11:function(e,n,t){e.exports={btn:"BtnReset_btn__9ZNb5",disabled:"BtnReset_disabled__2z6ma"}},15:function(e,n,t){e.exports={board:"Board_board__kNpEF",row:"Board_row__2hIxt"}},29:function(e,n,t){},33:function(e,n,t){},34:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),c=t(9),o=t.n(c),a=t(3),u=(t(29),t(1)),l=t(4),d=function(e){return e.board||e||{}},s=Object(l.a)(d,(function(e){return e.options||{}})),f=Object(l.a)(d,(function(e){return e.selectedArea||{}})),b=Object(l.a)(d,(function(e){return e.tiles||{}})),p=Object(l.a)(b,(function(e){return e.allIds||[]})),j=Object(l.a)(b,(function(e){return e.byIds||{}})),v=function(e,n){var t=j(e)[n]||{};return Object(u.a)(Object(u.a)({},t),{},{selected:h(e,n)})},O=Object(l.a)(j,(function(e){return Object.values(e).filter((function(e){return!!e.flipped})).map((function(e){return e.id}))})),m=Object(l.a)([j,f],(function(e,n){var t=n.iniTile,r=n.endTile,i=Object.values(e);if(!t||!r)return[];if(t===r)return[t];var c=function(e,n,t){return!!(e>=n&&e<=t||e>=t&&e<=n)},o=i.find((function(e){return e.id===t})),a=i.find((function(e){return e.id===r}));return i.filter((function(e){return c(e.x,o.x,a.x)&&c(e.y,o.y,a.y)})).map((function(e){return e.id}))})),h=function(e,n){return!!m(e).includes(n)},_="BOARD_RESET",g="BOARD_SELECTEDAREA_UNSET",y="BOARD_SELECTEDAREA_SET_INI",T="BOARD_SELECTEDAREA_SET_END",E="TILES_TOGGLE",x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:E,payload:{ids:e,flipped:n}}},A=function(e){return function(n,t){var r=t(),i=v(r,e);n(x(function(e,n){var t=b(e).byIds||{};return Object.values(t).filter((function(e){return e.y===n}))}(r,i.y).map((function(e){return e.id})),!i.flipped))}},P=function(e){return function(n,t){var r=t();f(r).iniTile&&n(function(e){return{type:T,payload:{endTile:e}}}(e))}},C=t(19),w=t(7),N=t.n(w),I=t(8),S=t.n(I),D=t(16),k=t(20),R=function(){var e=Object(r.useRef)([]);return{appendPendingPromise:function(n){return e.current=[].concat(Object(k.a)(e.current),[n])},removePendingPromise:function(n){return e.current=e.current.filter((function(e){return e!==n}))},clearPendingPromises:function(){return e.current.map((function(e){return e.cancel()}))}}},B=function(e,n,t){var r=R(),i=Object(D.get)(t,"delay",300);return[function(){r.clearPendingPromises();var n=function(e){var n=!1;return{promise:new Promise((function(t,r){e.then((function(e){return n?r({isCanceled:n,value:e}):t(e)}),(function(e){return r({isCanceled:n,error:e})}))})),cancel:function(){return n=!0}}}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;return new Promise((function(n){return setTimeout(n,e)}))}(i));return r.appendPendingPromise(n),n.promise.then((function(){r.removePendingPromise(n),e()})).catch((function(e){if(r.removePendingPromise(n),!e.isCanceled)throw e.error}))},function(){r.clearPendingPromises(),n()}]},L=t(2),M=function(e){var n=e.id,t=e.isFlipped,r=void 0!==t&&t,i=e.isSelected,c=void 0!==i&&i,o=e.onClick,a=e.onDoubleClick,u=e.onMouseEnter,l=B(o,a),d=Object(C.a)(l,2),s=d[0],f=d[1];return Object(L.jsx)("div",{className:N()(S.a.wrapper,r&&S.a.flipped,c&&S.a.selected),children:Object(L.jsx)("button",{"aria-label":"tile-".concat(n),onClick:s,onDoubleClick:f,onMouseEnter:function(){u()},className:N()(S.a.tile),children:n})})},F=Object(a.b)((function(e,n){var t=v(e,n.id);return{id:t.id,isFlipped:t.flipped,isSelected:t.selected}}),(function(e,n){return{onClick:function(){var t;e((t=n.id,{type:y,payload:{iniTile:t}})),e(function(e){return function(n,t){var r=t(),i=v(r,e);n(x([i.id],!i.flipped))}}(n.id))},onDoubleClick:function(){return e(A(n.id))},onMouseEnter:function(){return e(P(n.id))}}}))(i.a.memo(M)),G=t(15),J=t.n(G),W=function(e){var n=e.tiles,t=void 0===n?[]:n;return Object(L.jsx)("div",{className:J.a.row,children:t.map((function(e){return Object(L.jsx)(F,{id:e},e)}))})},Z=function(e){var n=e.tiles,t=void 0===n?[]:n,r=e.columns,i=e.onMouseLeave,c=void 0===i?function(){}:i;return Object(L.jsx)("div",{className:J.a.board,onMouseLeave:function(){c()},children:function(e,n){for(var t=0,r=[];t<e.length;)t%n===0&&r.push([]),r[r.length-1].push(e[t++]);return r}(t,r).map((function(e,n){return Object(L.jsx)(W,{tiles:e},"row_".concat(n))}))})},z=Object(a.b)((function(e){return{tiles:p(e),columns:s(e).columns}}),(function(e){return{onMouseLeave:function(){return e({type:g})}}}))(i.a.memo(Z)),U=t.p+"static/media/undo.39673a2b.svg",V=t(11),q=t.n(V),H=function(e){var n=e.className,t=e.disabled,r=void 0!==t&&t,i=e.onClick,c=void 0===i?function(){}:i;return Object(L.jsx)("button",{"aria-label":"reset",disabled:r,onClick:function(){r||c()},className:N()(q.a.btn,r&&q.a.disabled,n),children:Object(L.jsx)("img",{src:U,alt:"reset",className:q.a.logo})})},K=Object(a.b)((function(e){return{disabled:!O(e).length}}),(function(e){return{onClick:function(){return e({type:_})}}}))(i.a.memo(H)),Q=(t(33),function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsxs)("header",{className:"App-header",children:[Object(L.jsx)(z,{}),Object(L.jsx)(K,{})]})})}),X=t(5),Y=t(17),$=t(18),ee={iniTile:void 0,endTile:void 0},ne={tiles:function(e){for(var n={},t=[],r=0,i=0;i<e;i++)for(var c=0;c<e;c++){var o=r.toString();t.push(o),n[r]={id:o,x:i,y:c,flipped:!1},r++}return{allIds:t,byIds:n}}(6),options:{columns:6,rows:6},selectedArea:ee},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case E:var t=n.payload,r=t.ids,i=void 0===r?[]:r,c=t.flipped,o={};return i.forEach((function(n){var t=v(e,n);o[t.id]=Object(u.a)(Object(u.a)({},t),{},{flipped:c})})),Object(u.a)(Object(u.a)({},e),{},{tiles:Object(u.a)(Object(u.a)({},e.tiles),{},{byIds:Object(u.a)(Object(u.a)({},e.tiles.byIds),o)})});case y:var a=n.payload.iniTile,l=void 0===a?void 0:a;return Object(u.a)(Object(u.a)({},e),{},{selectedArea:Object(u.a)(Object(u.a)({},e.selectedArea),{},{iniTile:l})});case T:var d=n.payload.endTile,s=void 0===d?void 0:d;return Object(u.a)(Object(u.a)({},e),{},{selectedArea:Object(u.a)(Object(u.a)({},e.selectedArea),{},{endTile:s})});case g:return Object(u.a)(Object(u.a)({},e),{},{selectedArea:ee});case _:return ne;default:return e}},re={name:"aitor"},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,n=arguments.length>1?arguments[1]:void 0;return n.type,e},ce=Object(X.combineReducers)({common:ie,board:te}),oe=Object(X.createStore)(ce,Object($.composeWithDevTools)(Object(X.applyMiddleware)(Y.a))),ae=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,35)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),r(e),i(e),c(e),o(e)}))},ue=document.getElementById("root");o.a.render(Object(L.jsx)(i.a.StrictMode,{children:Object(L.jsx)(a.a,{store:oe,children:Object(L.jsx)(Q,{})})}),ue),ae()},8:function(e,n,t){e.exports={wrapper:"Tile_wrapper__ZVNjO",flipped:"Tile_flipped__2c1c5",selected:"Tile_selected__9WI05",tile:"Tile_tile__2AylM"}}},[[34,1,2]]]);
//# sourceMappingURL=main.f9507801.chunk.js.map