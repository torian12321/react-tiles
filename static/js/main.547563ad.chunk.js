(this["webpackJsonpreact-tiles"]=this["webpackJsonpreact-tiles"]||[]).push([[0],{12:function(e,n,t){e.exports={btn:"BtnReset_btn__9ZNb5",disabled:"BtnReset_disabled__2z6ma"}},16:function(e,n,t){e.exports={board:"Board_board__kNpEF",row:"Board_row__2hIxt"}},17:function(e,n,t){e.exports={App:"App_App__1JN69",content:"App_content__1GxqD"}},3:function(e,n,t){e.exports={wrapper:"Tile_wrapper__ZVNjO",selected:"Tile_selected__9WI05",panel:"Tile_panel__a7ZlV",front:"Tile_front__2rT6g",back:"Tile_back__27OT-",flipped:"Tile_flipped__2c1c5",box1:"Tile_box1__MZJ3q",box2:"Tile_box2__3nON7"}},33:function(e,n,t){},34:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),c=t(8),o=t.n(c),u=t(4),a=t(2),s=t(5),l=function(e){return e.board||e||{}},d=Object(s.a)(l,(function(e){return e.options||{}})),f=Object(s.a)(l,(function(e){return e.selectedArea||{}})),b=Object(s.a)(l,(function(e){return e.tiles||{}})),p=Object(s.a)(b,(function(e){return e.allIds||[]})),v=Object(s.a)(b,(function(e){return e.byIds||{}})),j=function(e,n){var t=v(e)[n]||{};return Object(a.a)(Object(a.a)({},t),{},{selected:_(e,n)})},O=Object(s.a)(v,(function(e){return Object.values(e).filter((function(e){return!!e.flipped})).map((function(e){return e.id}))})),m=Object(s.a)([v,f],(function(e,n){var t=n.iniTile,r=n.endTile,i=Object.values(e);if(!t||!r)return[];if(t===r)return[t];var c=function(e,n,t){return!!(e>=n&&e<=t||e>=t&&e<=n)},o=i.find((function(e){return e.id===t})),u=i.find((function(e){return e.id===r}));return i.filter((function(e){return c(e.x,o.x,u.x)&&c(e.y,o.y,u.y)})).map((function(e){return e.id}))})),_=function(e,n){return!!m(e).includes(n)},h="BOARD_RESET",g="BOARD_SELECTEDAREA_UNSET",T="BOARD_SELECTEDAREA_SET_INI",x="BOARD_SELECTEDAREA_SET_END",E="TILES_TOGGLE",y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:E,payload:{ids:e,flipped:n}}},P=function(e){return function(n,t){var r=t(),i=j(r,e);n(y(function(e,n){var t=b(e).byIds||{};return Object.values(t).filter((function(e){return e.y===n}))}(r,i.y).map((function(e){return e.id})),!i.flipped))}},A=function(){return{type:g}},C=function(e){return function(n,t){var r=t();f(r).iniTile&&n(function(e){return{type:x,payload:{endTile:e}}}(e))}},N=t(11),k=t(10),D=t.n(k),L=t(3),w=t.n(L),S=t(18),M=t(21),I=function(){var e=Object(r.useRef)([]);return{appendPendingPromise:function(n){return e.current=[].concat(Object(M.a)(e.current),[n])},removePendingPromise:function(n){return e.current=e.current.filter((function(e){return e!==n}))},clearPendingPromises:function(){return e.current.map((function(e){return e.cancel()}))}}},R=function(e,n,t){var r=I(),i=Object(S.get)(t,"delay",250);return[function(){r.clearPendingPromises();var n=function(e){var n=!1;return{promise:new Promise((function(t,r){e.then((function(e){return n?r({isCanceled:n,value:e}):t(e)}),(function(e){return r({isCanceled:n,error:e})}))})),cancel:function(){return n=!0}}}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;return new Promise((function(n){return setTimeout(n,e)}))}(i));return r.appendPendingPromise(n),n.promise.then((function(){r.removePendingPromise(n),e()})).catch((function(e){if(r.removePendingPromise(n),!e.isCanceled)throw e.error}))},function(){r.clearPendingPromises(),n()}]},B=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},F=function(e){var n=e.onClick,t=e.onLongPress,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=i.shouldPreventDefault,o=void 0===c||c,u=i.delay,a=void 0===u?300:u,s=Object(r.useState)(!1),l=Object(N.a)(s,2),d=l[0],f=l[1],b=Object(r.useRef)(),p=Object(r.useRef)(),v=Object(r.useCallback)((function(e){o&&e.target&&(e.target.addEventListener("touchend",B,{passive:!1}),p.current=e.target),b.current=setTimeout((function(){t(e),f(!0)}),a)}),[t,a,o]),j=Object(r.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];b.current&&clearTimeout(b.current),t&&!d&&n(),f(!1),o&&p.current&&p.current.removeEventListener("touchend",B)}),[o,n,d]);return{onMouseDown:function(e){return v(e)},onTouchStart:function(e){return v(e)},onMouseUp:function(e){return j(e)},onMouseLeave:function(e){return j(e,!1)},onTouchEnd:function(e){return j(e)}}},U=t(1),J=function(e){var n=e.id,t=e.isFlipped,r=void 0!==t&&t,i=e.isSelected,c=void 0!==i&&i,o=e.onClick,u=void 0===o?function(e){}:o,s=e.onDoubleClick,l=void 0===s?function(e){}:s,d=e.onMouseEnter,f=void 0===d?function(e){}:d,b=e.onLongPress,p=void 0===b?function(e){}:b,v=e.onMouseUp,j=void 0===v?function(e){}:v,O=R(u,l),m=Object(N.a)(O,2),_=(m[0],m[1]),h=F({onLongPress:p,onClick:u});return Object(U.jsx)("div",{onMouseEnter:function(){return f()},onMouseUp:function(){return j()},className:D()(w.a.wrapper,r&&w.a.flipped,c&&w.a.selected),children:Object(U.jsxs)("button",Object(a.a)(Object(a.a)({"aria-label":"tile-".concat(n)},h),{},{onDoubleClick:_,className:w.a.panel,children:[Object(U.jsx)("div",{className:w.a.front,children:Object(U.jsx)("div",{className:w.a.box1})}),Object(U.jsx)("div",{className:w.a.back,children:Object(U.jsx)("div",{className:w.a.box2})})]}))})},Z=Object(u.b)((function(e,n){var t=j(e,n.id);return{id:t.id,isFlipped:t.flipped,isSelected:t.selected}}),(function(e,n){return{onClick:function(){return e((t=n.id,function(e,n){var r=n(),i=j(r,t);e(y([i.id],!i.flipped))}));var t},onDoubleClick:function(){return e(P(n.id))},onMouseEnter:function(){return e(C(n.id))},onLongPress:function(){var t;e((t=n.id,{type:T,payload:{iniTile:t}})),e(C(n.id))},onMouseUp:function(){e((function(e,n){var t=n(),r=f(t).iniTile;if(r){var i=j(t,r);e(y(m(t),!!i.flipped))}})),e(A())}}}))(i.a.memo(J)),G=t(16),q=t.n(G),V=function(e){var n=e.tiles,t=void 0===n?[]:n;return Object(U.jsx)("div",{className:q.a.row,children:t.map((function(e){return Object(U.jsx)(Z,{id:e},e)}))})},W=function(e){var n=e.tiles,t=void 0===n?[]:n,r=e.columns,i=e.onMouseLeave,c=void 0===i?function(){}:i;return Object(U.jsx)("div",{className:q.a.board,onMouseLeave:function(){c()},children:function(e,n){for(var t=0,r=[];t<e.length;)t%n===0&&r.push([]),r[r.length-1].push(e[t++]);return r}(t,r).map((function(e,n){return Object(U.jsx)(V,{tiles:e},"row_".concat(n))}))})},z=Object(u.b)((function(e){return{tiles:p(e),columns:d(e).columns}}),(function(e){return{onMouseLeave:function(){return e(A())}}}))(i.a.memo(W)),H=t.p+"static/media/undo.1fd9fbea.svg",K=t(12),Q=t.n(K),X=function(e){var n=e.className,t=e.disabled,r=void 0!==t&&t,i=e.onClick,c=void 0===i?function(){}:i;return Object(U.jsx)("button",{"aria-label":"reset",disabled:r,onClick:function(){r||c()},className:D()(Q.a.btn,r&&Q.a.disabled,n),children:Object(U.jsx)("img",{src:H,alt:"reset",className:Q.a.logo})})},Y=Object(u.b)((function(e){return{disabled:!O(e).length}}),(function(e){return{onClick:function(){return e({type:h})}}}))(i.a.memo(X)),$=t(17),ee=t.n($),ne=function(){return Object(U.jsx)("div",{className:ee.a.App,children:Object(U.jsxs)("div",{className:ee.a.content,children:[Object(U.jsx)(z,{}),Object(U.jsx)(Y,{})]})})},te=t(6),re=t(19),ie=t(20),ce={iniTile:void 0,endTile:void 0},oe={tiles:function(e){for(var n={},t=[],r=0,i=0;i<e;i++)for(var c=0;c<e;c++){var o=r.toString();t.push(o),n[r]={id:o,x:i,y:c,flipped:!1},r++}return{allIds:t,byIds:n}}(6),options:{columns:6,rows:6},selectedArea:ce},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case E:var t=n.payload,r=t.ids,i=void 0===r?[]:r,c=t.flipped,o={};return i.forEach((function(n){var t=j(e,n);o[t.id]=Object(a.a)(Object(a.a)({},t),{},{flipped:c})})),Object(a.a)(Object(a.a)({},e),{},{tiles:Object(a.a)(Object(a.a)({},e.tiles),{},{byIds:Object(a.a)(Object(a.a)({},e.tiles.byIds),o)})});case T:var u=n.payload.iniTile,s=void 0===u?void 0:u;return Object(a.a)(Object(a.a)({},e),{},{selectedArea:Object(a.a)(Object(a.a)({},e.selectedArea),{},{iniTile:s})});case x:var l=n.payload.endTile,d=void 0===l?void 0:l;return Object(a.a)(Object(a.a)({},e),{},{selectedArea:Object(a.a)(Object(a.a)({},e.selectedArea),{},{endTile:d})});case g:return Object(a.a)(Object(a.a)({},e),{},{selectedArea:ce});case h:return oe;default:return e}},ae={name:"Tiles App"},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,n=arguments.length>1?arguments[1]:void 0;return n.type,e},le=Object(te.combineReducers)({common:se,board:ue}),de=Object(te.createStore)(le,Object(ie.composeWithDevTools)(Object(te.applyMiddleware)(re.a))),fe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,35)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),r(e),i(e),c(e),o(e)}))},be=(t(33),document.getElementById("\ud83e\udd84"));o.a.render(Object(U.jsx)(i.a.StrictMode,{children:Object(U.jsx)(u.a,{store:de,children:Object(U.jsx)(ne,{})})}),be),fe()}},[[34,1,2]]]);
//# sourceMappingURL=main.547563ad.chunk.js.map